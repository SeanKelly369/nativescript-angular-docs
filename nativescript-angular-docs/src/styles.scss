@use './styles_colours' as *;

/* =========================
   THEME TOKENS
   ========================= */

:root {
  --rem-base: 16;
  font-family: 'Inter', system-ui, sans-serif;
  font-size-adjust: from-font;

  --transition-theme: color 150ms ease,
                      background-color 150ms ease,
                      border-color 150ms ease,
                      box-shadow 150ms ease;

  --black-rgb: 0, 0, 0;
  --shadow-10: rgba(var(--black-rgb), 0.10);
  --shadow-30: rgba(var(--black-rgb), 0.30);

  &::-webkit-scrollbar {
    width: 0.5rem;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: var(--li);
    border-radius: 999px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: $neon-cyan;
  }
}

html {
  font-size: calc(var(--rem-base) * 1px);
  scroll-behavior: smooth;
}

/* Light (default) */
:root,
:root[data-theme="light"] {
  --bg:                #{$off_white_2};
  --surface:           #{$white};
  --surface-alt:       #{$off_white};
  --phone-outer:       #{$off_white};

  --text:              #{$black_80};
  --text-phone:        #{$black_80};
  --text-invert:       #{$black_80};
  --text-feature-card: #{$black_75};
  --text-grey-bg:      #{$black_75};
  --text-strong:       #{$black_75};
  --muted:             #{$paynes_grey};
  --yellow:            #{$yellow-dark};

  --white:             #{$off_white};
  --black:             #{$off_black};

  --border:            #{$off_white_2};
  --black:             #{$black_75};
  --link:              #{$sky_blue};
  --heading-bg:        #{$blue};
  --li:                #{$cyan};

  --sidebar-text:      #{$off_black};
  --sidebar-text-hover:      #{$white};
  --sidebar-text-hover-bg: #{$cyan};

  --code-fg:           #{$red};
  --code-bg:           #{$off_white};

  --pre-bg:            #{$dark_blue};
  --pre-fg:            #{$off_white};

  /* content accents */
  --heading-accent:   var(--text-strong);
  --content-text:     var(--text);

  --code-inline-fg:   var(--code-fg);
  --code-inline-bg:   var(--code-bg);
  --pre-custom-bg:    var(--pre-bg);

  --hero-bg:
    radial-gradient(60rem 40rem at 86% 28%,
      rgba(102, 102, 204, 0.22),
      rgba(102, 102, 204, 0) 62%
    ),
    radial-gradient(42rem 28rem at 94% 18%,
      rgba(2, 190, 190, 0.14),
      rgba(2, 190, 190, 0) 60%
    ),
    radial-gradient(55rem 35rem at 12% 86%,
      rgba(65, 155, 246, 0.16),
      rgba(65, 155, 246, 0) 58%
    ),
    linear-gradient(120deg,
      rgba(255, 255, 255, 0.55) 0%,
      rgba(255, 255, 255, 0.00) 40%
    ),
    linear-gradient(135deg,
      #f7fbff 0%,
      #eef4ff 45%,
      #f2f7ff 75%,
      #ffffff 100%
    );

  --hero-text: #{$off_black};
  --hero-highlight: #{$cyan};
  --hero-subtle-grid-opacity: 0.05;
}

/* Dark */
:root[data-theme="dark"] {
  --bg:                    #{$very_dark_blue};
  --surface:               #{$very_dark_blue};
  --surface-alt:           #{$neon-cyan};
  --phone-outer:           #{$black};

  --text:                  #{$off_white_2};
  --text-phone:            #{$black_80};
  --text-invert:           #{$off_white};
  --text-feature-card:     #{$black_75};
  --text-strong:           #{$white};
  --text-strong-white-bg:  #{$black_75};
  --text-grey-bg:          #{$black_75};
  --muted:                 #{$pale_blue};
  --yellow:                #{$yellow};

  --black:                 #{$off_black};

  --sidebar-text:          #{$off_white};
  --sidebar-text-hover:    #{$white};
  --sidebar-text-hover-bg: #{$cyan};

  --border:                #{$off_black};
  --link:                  #{$navy};
  --li:                    #{$cyan};

  --code-fg:               #{$red};
  --code-bg:               #{$dark_blue};

  --pre-bg:                #{$very_dark_blue};
  --pre-fg:                #{$off_white};

  --heading-accent:        #{$neon-cyan};
  --content-text:          #{$neon-cyan};
  --code-inline-fg:        #{$neon-cyan-code};
  --code-inline-bg:        transparent;
  --pre-custom-bg:         #{$cyan-bg};


  --hero-bg:
    radial-gradient(60rem 40rem at 86% 28%,
      rgba(163, 51, 255, 0.55),
      rgba(182, 92, 255, 0) 62%
    ),
    radial-gradient(42rem 28rem at 94% 18%,
      rgba(255, 62, 165, 0.22),
      rgba(255, 62, 165, 0) 60%
    ),
    radial-gradient(55rem 35rem at 12% 86%,
      rgba(20, 214, 197, 0.18),
      rgba(20, 214, 197, 0) 58%
    ),
    linear-gradient(120deg,
      rgba(255, 255, 255, 0.10) 0%,
      rgba(255, 255, 255, 0.00) 40%
    ),
    linear-gradient(135deg,
      #0f172a 0%,
      #1b1d3f 44%,
      #2b1652 74%,
      #0b0a18 100%
    );

  --hero-text: #{$white};
  --hero-highlight: #{$neon-cyan};
  --hero-subtle-grid-opacity: 0.06;
}

/* =========================
   GLOBALS
   ========================= */

.language-css,
.language-scss {
  color: var(--link);
}

html,
body {
  margin: 0;
  padding: 0;
  overscroll-behavior: none;
  height: 100%;
  background: var(--bg);
  color: var(--text);
  transition: var(--transition-theme);
}

/* =========================
   CONTENT WRAPPER
   ========================= */

.guide-content {
  overflow: auto;
  overscroll-behavior: contain;
  scroll-behavior: smooth;
}

.content-wrapper {
  background: var(--surface);
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px var(--shadow-10);
  height: calc(100vh - 2rem);
  overflow-y: auto;
  overscroll-behavior: contain;
  scroll-behavior: smooth;
  padding-left: 1rem;
  padding-right: 1rem;
  transition: var(--transition-theme);
  max-width: 100%;

  h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: var(--text-strong);
    border-bottom: 2px solid var(--surface-alt);
    padding-bottom: 0.5rem;
  }

  h2 {
    font-weight: 600;
    margin: 2rem 0 1rem 0;
    color: var(--heading-accent);
    font-size: 1.8rem;
  }

  h3 {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 1.5rem 0 0.75rem 0;
    color: var(--heading-accent);
  }

  h4 {
    color: var(--text-strong);
  }

  p {
    line-height: 1.7;
    margin-bottom: 1rem;
    color: var(--content-text);
  }

  ul,
  ol {
    margin-bottom: 1rem;
    padding-left: 1.5rem;
  }

  li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
    color: var(--li);
  }

  code {
    background: var(--code-inline-bg);
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.875em;
    color: var(--code-inline-fg);
  }

  pre {
    background: var(--pre-custom-bg);
    color: var(--pre-fg);
    padding: 1.5rem;
    border-radius: 0.5rem;
    overflow-x: auto;
    margin: 1rem 0;
    max-width: 100%;

    code {
      background: none;
      padding: 0;
      color: inherit;
    }
  }

  a {
    color: var(--content-text);
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }

  &::-webkit-scrollbar {
    width: 0.4rem;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background: var(--li);
    border-radius: 999px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: $neon-cyan;
  }
}